task-4
name: CI - All Tasks & Main

task-3
name: CI - Task 1, 2 & 3
 main

name: CI - Task 1, Task 2 & Main
 main

on:
  push:
    branches:
      - main
      - task-1
      - task-2
 task-3
      - task-3
      - task-4
  pull_request:
    branches:
      - main

  pull_request:
    branches:
      - main
      - task-1
      - task-2
 main

jobs:
  setup:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Python 3.11
        uses: actions/setup-python@v5
        with:
          python-version: 3.11

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      # Existing check (Task 1 & 2)
      - name: Run syntax checks
        run: python -m compileall src

      # ✅ Task 3: Verify RAG imports only (NO heavy data load)
      - name: Task 3 import check
        run: |
          python - <<EOF
          import langchain
          import chromadb
          import sentence_transformers
          import transformers
          print("Task 3 imports OK")
          EOF

      # Optional – safe even if no tests exist yet
      - name: Run tests
        run: pytest -q || echo "No tests yet"